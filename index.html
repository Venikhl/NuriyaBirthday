<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>С Днём Рождения!!!</title>

<style>
:root{
  --bg: #1c140d;
  --gold: #d6b56a;
  --text: #f7e9cc;
  --muted: #e9d3a5;
  --caption: #f0d9a6;
}

html, body {height:100%; margin:0;}

body{
  background: var(--bg);
  color: var(--text);
  font-family: Verdana, sans-serif;
  overflow-y:auto;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

#snow, #hearts{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
}

/* ================= INTRO ================= */

#intro{
  position:fixed;
  inset:0;
  background:#1c140d;
  z-index:9999;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:40px 20px;
  transition:opacity .8s ease, visibility .8s ease;
}

#intro.hidden{
  opacity:0;
  visibility:hidden;
  pointer-events:none;
}

.intro-text{
  color:var(--gold);
  font-size:32px;
  max-width:720px;
  line-height:1.4;
  opacity:0;
  transform:translateY(10px);
  transition:opacity .6s ease, transform .6s ease;
}

.intro-text.show{
  opacity:1;
  transform:translateY(0);
}

.intro-hint{
  margin-top:30px;
  font-size:14px;
  color:var(--muted);
  opacity:.8;
  animation:pulse 2s infinite;
}

@keyframes pulse{
  0%,100%{opacity:.5}
  50%{opacity:1}
}

/* ================= PAGE ================= */

.page{
  position:relative;
  z-index:2;
  width:100%;
  max-width:820px;
  margin:0 auto;
  padding:90px 20px 160px;
  box-sizing:border-box;
}

.gold-wrap{
  position:fixed;
  top:0;
  left:50%;
  transform:translateX(-50%);
  width:600px;
  height:2400px;
  pointer-events:none;
  z-index:1;
}

.photo-block{
  width:320px;
  margin:160px auto;
  text-align:center;
}

.photo{
  width:320px;
  height:420px;
  object-fit:cover;
  border-radius:14px;
  border:3px solid var(--gold);
  box-shadow:0 20px 30px rgba(0,0,0,.55);
  transform:translateY(20px) rotate(var(--rotate));
  opacity:0;
  transition:.6s ease;
}

.photo-block.inview .photo{
  transform:translateY(0) rotate(var(--rotate));
  opacity:1;
}

.caption{
  margin-top:14px;
  font-style:italic;
  color:var(--caption);
}

.tilt-left{--rotate:-4deg}
.tilt-right{--rotate:4deg}

.header-ticket{
  display:inline-block;
  background:linear-gradient(135deg,#f7e0a7,#d6b56a,#b78f3d);
  color:#1c140d;
  padding:16px 32px;
  border-radius:12px;
  font-weight:bold;
}

.header-ticket p{
  margin:8px 0 0;
  font-weight:normal;
}

@media(max-width:420px){
  .intro-text{font-size:22px}
  .photo,.photo-block{width:86vw;height:56vw}
}
</style>
</head>

<body>

<!-- INTRO -->
<div id="intro">
  <div class="intro-text" id="introText"></div>
  <div class="intro-hint">Нажми, чтобы продолжить</div>
</div>

<canvas id="snow"></canvas>
<canvas id="hearts"></canvas>

<div class="gold-wrap" aria-hidden="true">
  <svg viewBox="0 0 600 2400" style="width:100%;height:100%">
    <path d="M300 20 C360 160 240 320 300 480 C350 640 240 820 300 980 C360 1140 250 1320 300 1480"
      stroke="#b09b6b" stroke-width="4" fill="none"/>
  </svg>
</div>

<main class="page">
  <div style="text-align:center;margin-bottom:40px">
    <div class="header-ticket">
      С днём рождения!
      <p>Листай ниже и читай подписи ко всем картинкам!</p>
    </div>
  </div>

  <section class="photo-block tilt-left">
    <img class="photo" src="photos/1.jpg">
    <p class="caption">
      Смотри-ка, одно из последних фото, которое мы все вместе сделали!
      Тепло, уютно, круто, в общем!
    </p>
  </section>

  <section class="photo-block tilt-right">
    <img class="photo" src="photos/2.jpg">
    <p class="caption">
      О, а это Лёня тебя фоткал!
      На самом деле таких фоток очень много…
      Уж не буду смущать и вставлять каждую.
    </p>
  </section>

  <section class="photo-block tilt-left">
    <img class="photo" src="photos/3.jpg">
    <p class="caption">
      О! Смотри-ка! И такое было!
      Фасуешь людей по пакетам, зато с любовью!
    </p>
  </section>

  <section class="photo-block tilt-right">
    <img class="photo" src="photos/4.jpg">
    <p class="caption">
      Ой, а здесь и вовсе милота.
      Оба дредовые и такие красивые!
    </p>
  </section>

  <section class="photo-block tilt-left">
    <img class="photo" src="photos/5.jpg">
    <p class="caption">
      А помнишь это?
      Смотри-ка, все тебя любят и фоткаются, хе-хе.
    </p>
  </section>

  <section class="photo-block tilt-right">
    <img class="photo" src="photos/6.jpg">
    <p class="caption">
      Ваааай, а тут какая милота!
      О, и ты есть под Аква-Мариной.
    </p>
  </section>

  <section class="photo-block tilt-left">
    <img class="photo" src="photos/7.jpg">
    <p class="caption">
      Эх… Нурь, все тебя и правда сильно любят.
      Пусть этот день рождения и Новый год пройдут максимально уютно и приятно.
      И пусть это напомнит тебе, как ты для всех важна!
    </p>
  </section>

  <div style="text-align:center;margin-bottom:40px">
    <div class="header-ticket">
      Посылаю лучи любви и радости!
      <p>
        А ещё не забудь написать мне, какой я молодец.
        Я старался!!!
      </p>
    </div>
  </div>
</main>

<script>
/* ================= INTRO ================= */
(function(){
  const phrases=[
    "Итак, дорогая…",
    "У тебя сегодня день рождения!",
    "И я подготовил для тебя небольшую открытку.",
    "И, если что, я специально сохраняю интригу…",
    "Впереди тебя ждёт подборка фотографий, чтобы ты вспомнила, как сильно тебя все любят.",
    "Ну и просто похихикать тоже можно.",
    "Теперь можно смотреть дальше!"
  ];

  const intro=document.getElementById('intro');
  const text=document.getElementById('introText');
  let i=0, busy=false;

  document.body.style.overflow='hidden';

  function show(){
    busy=true;
    text.classList.remove('show');
    setTimeout(()=>{
      text.textContent=phrases[i];
      text.classList.add('show');
      busy=false;
    },400);
  }

  intro.onclick=()=>{
    if(busy) return;
    i++;
    if(i<phrases.length) show();
    else{
      intro.classList.add('hidden');
      document.body.style.overflowY='auto';
    }
  };

  show();
})();

/* ================= SNOW ================= */
(function(){
  const canvas=document.getElementById('snow');
  if(!canvas) return;

  const ctx=canvas.getContext('2d');
  let W=canvas.width=window.innerWidth;
  let H=canvas.height=window.innerHeight;

  const flakes=Array.from({length:140},()=>({
    x:Math.random()*W,
    y:Math.random()*H,
    r:Math.random()*2+0.6,
    s:Math.random()*0.7+0.3,
    dx:(Math.random()*0.6-0.3)
  }));

  window.addEventListener('resize',()=>{
    W=canvas.width=window.innerWidth;
    H=canvas.height=window.innerHeight;
  });

  let t=0;
  function frame(){
    t+=0.01;
    ctx.clearRect(0,0,W,H);
    ctx.fillStyle='rgba(255,255,255,0.85)';
    ctx.beginPath();

    for(const f of flakes){
      f.x+=f.dx*f.s+Math.sin(t+f.x*0.001)*0.2;
      f.y+=f.s;

      if(f.y>H+10){
        f.y=-10;
        f.x=Math.random()*W;
      }

      ctx.moveTo(f.x,f.y);
      ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
    }
    ctx.fill();
    requestAnimationFrame(frame);
  }
  frame();
})();

/* ================= HEARTS ================= */
(function(){
  const canvas=document.getElementById('hearts');
  if(!canvas) return;

  const ctx=canvas.getContext('2d');
  let W=canvas.width=window.innerWidth;
  let H=canvas.height=window.innerHeight;

  const hearts=Array.from({length:40},()=>({
    x:Math.random()*W,
    y:Math.random()*H,
    size:Math.random()*14+6,
    speed:Math.random()*0.6+0.2,
    dx:(Math.random()*0.4-0.2)
  }));

  window.addEventListener('resize',()=>{
    W=canvas.width=window.innerWidth;
    H=canvas.height=window.innerHeight;
  });

  function draw(){
    ctx.clearRect(0,0,W,H);
    ctx.fillStyle='rgba(255,120,160,0.65)';
    ctx.beginPath();

    for(const h of hearts){
      h.x+=h.dx;
      h.y+=h.speed;
      if(h.y>H+20){
        h.y=-20;
        h.x=Math.random()*W;
      }

      const x=h.x, y=h.y, s=h.size;
      ctx.moveTo(x,y);
      ctx.bezierCurveTo(x-s/2,y-s/2,x-s,y+s/3,x,y+s);
      ctx.bezierCurveTo(x+s,y+s/3,x+s/2,y-s/2,x,y);
    }
    ctx.fill();
    requestAnimationFrame(draw);
  }
  draw();
})();
  
/* ================= PHOTO APPEAR ================= */
(function(){
  const blocks=document.querySelectorAll('.photo-block');
  if(!('IntersectionObserver' in window)){
    blocks.forEach(b=>b.classList.add('inview'));
    return;
  }
  const io=new IntersectionObserver(e=>{
    e.forEach(x=>x.isIntersecting && x.target.classList.add('inview'));
  },{threshold:.25});
  blocks.forEach(b=>io.observe(b));
})();
</script>

</body>
</html>
